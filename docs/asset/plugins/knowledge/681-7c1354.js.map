{"version":3,"file":"681-7c1354.js","mappings":"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","sources":["webpack://TopWritePlugins.knowledge/../node_modules/.pnpm/@fortaine+fetch-event-source@3.0.6/node_modules/@fortaine/fetch-event-source/lib/esm/parse.js","webpack://TopWritePlugins.knowledge/../node_modules/.pnpm/@fortaine+fetch-event-source@3.0.6/node_modules/@fortaine/fetch-event-source/lib/esm/fetch.js","webpack://TopWritePlugins.knowledge/./src/components/reader/activate.tsx","webpack://TopWritePlugins.knowledge/../../../topteam/write/packages/node_modules/.pnpm/core-js@3.31.0/node_modules/core-js/internals/advance-string-index.js","webpack://TopWritePlugins.knowledge/../../../topteam/write/packages/node_modules/.pnpm/core-js@3.31.0/node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack://TopWritePlugins.knowledge/../../../topteam/write/packages/node_modules/.pnpm/core-js@3.31.0/node_modules/core-js/internals/get-substitution.js","webpack://TopWritePlugins.knowledge/../../../topteam/write/packages/node_modules/.pnpm/core-js@3.31.0/node_modules/core-js/internals/regexp-exec-abstract.js","webpack://TopWritePlugins.knowledge/../../../topteam/write/packages/node_modules/.pnpm/core-js@3.31.0/node_modules/core-js/modules/es.string.ends-with.js","webpack://TopWritePlugins.knowledge/../../../topteam/write/packages/node_modules/.pnpm/core-js@3.31.0/node_modules/core-js/modules/es.string.replace.js","webpack://TopWritePlugins.knowledge/../../../topteam/write/packages/node_modules/.pnpm/core-js@3.31.0/node_modules/core-js/modules/es.string.starts-with.js"],"sourcesContent":["export async function getBytes(stream, onChunk) {\n    const reader = stream.getReader();\n    let result;\n    while (!(result = await reader.read()).done) {\n        onChunk(result.value);\n    }\n}\nexport function getLines(onLine) {\n    let buffer;\n    let position;\n    let fieldLength;\n    let discardTrailingNewline = false;\n    return function onChunk(arr) {\n        if (buffer === undefined) {\n            buffer = arr;\n            position = 0;\n            fieldLength = -1;\n        }\n        else {\n            buffer = concat(buffer, arr);\n        }\n        const bufLength = buffer.length;\n        let lineStart = 0;\n        while (position < bufLength) {\n            if (discardTrailingNewline) {\n                if (buffer[position] === 10) {\n                    lineStart = ++position;\n                }\n                discardTrailingNewline = false;\n            }\n            let lineEnd = -1;\n            for (; position < bufLength && lineEnd === -1; ++position) {\n                switch (buffer[position]) {\n                    case 58:\n                        if (fieldLength === -1) {\n                            fieldLength = position - lineStart;\n                        }\n                        break;\n                    case 13:\n                        discardTrailingNewline = true;\n                    case 10:\n                        lineEnd = position;\n                        break;\n                }\n            }\n            if (lineEnd === -1) {\n                break;\n            }\n            onLine(buffer.subarray(lineStart, lineEnd), fieldLength);\n            lineStart = position;\n            fieldLength = -1;\n        }\n        if (lineStart === bufLength) {\n            buffer = undefined;\n        }\n        else if (lineStart !== 0) {\n            buffer = buffer.subarray(lineStart);\n            position -= lineStart;\n        }\n    };\n}\nexport function getMessages(onMessage, onId, onRetry) {\n    let message = newMessage();\n    const decoder = new TextDecoder();\n    return function onLine(line, fieldLength) {\n        if (line.length === 0) {\n            onMessage === null || onMessage === void 0 ? void 0 : onMessage(message);\n            message = newMessage();\n        }\n        else if (fieldLength > 0) {\n            const field = decoder.decode(line.subarray(0, fieldLength));\n            const valueOffset = fieldLength + (line[fieldLength + 1] === 32 ? 2 : 1);\n            const value = decoder.decode(line.subarray(valueOffset));\n            switch (field) {\n                case 'data':\n                    message.data = message.data\n                        ? message.data + '\\n' + value\n                        : value;\n                    break;\n                case 'event':\n                    message.event = value;\n                    break;\n                case 'id':\n                    onId === null || onId === void 0 ? void 0 : onId(message.id = value);\n                    break;\n                case 'retry':\n                    const retry = parseInt(value, 10);\n                    if (!isNaN(retry)) {\n                        onRetry === null || onRetry === void 0 ? void 0 : onRetry(message.retry = retry);\n                    }\n                    break;\n            }\n        }\n    };\n}\nfunction concat(a, b) {\n    const res = new Uint8Array(a.length + b.length);\n    res.set(a);\n    res.set(b, a.length);\n    return res;\n}\nfunction newMessage() {\n    return {\n        data: '',\n        event: '',\n        id: '',\n        retry: undefined,\n    };\n}\n//# sourceMappingURL=parse.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { getBytes, getLines, getMessages } from './parse.js';\nexport const EventStreamContentType = 'text/event-stream';\nconst DefaultRetryInterval = 1000;\nconst LastEventId = 'last-event-id';\nexport function fetchEventSource(input, _a) {\n    var { signal: inputSignal, headers: inputHeaders, onopen: inputOnOpen, onmessage, onclose, onerror, openWhenHidden, fetch: inputFetch } = _a, rest = __rest(_a, [\"signal\", \"headers\", \"onopen\", \"onmessage\", \"onclose\", \"onerror\", \"openWhenHidden\", \"fetch\"]);\n    return new Promise((resolve, reject) => {\n        const headers = Object.assign({}, inputHeaders);\n        if (!headers.accept) {\n            headers.accept = EventStreamContentType;\n        }\n        let curRequestController;\n        function onVisibilityChange() {\n            curRequestController.abort();\n            if (!document.hidden) {\n                create();\n            }\n        }\n        if (typeof document !== 'undefined' && !openWhenHidden) {\n            document.addEventListener('visibilitychange', onVisibilityChange);\n        }\n        let retryInterval = DefaultRetryInterval;\n        let retryTimer = 0;\n        function dispose() {\n            if (typeof document !== 'undefined' && !openWhenHidden) {\n                document.removeEventListener('visibilitychange', onVisibilityChange);\n            }\n            clearTimeout(retryTimer);\n            curRequestController.abort();\n        }\n        inputSignal === null || inputSignal === void 0 ? void 0 : inputSignal.addEventListener('abort', () => {\n            dispose();\n            resolve();\n        });\n        const fetchFn = inputFetch !== null && inputFetch !== void 0 ? inputFetch : fetch;\n        const onopen = inputOnOpen !== null && inputOnOpen !== void 0 ? inputOnOpen : defaultOnOpen;\n        async function create() {\n            var _a;\n            curRequestController = new AbortController();\n            try {\n                const response = await fetchFn(input, Object.assign(Object.assign({}, rest), { headers, signal: curRequestController.signal }));\n                await onopen(response);\n                await getBytes(response.body, getLines(getMessages(onmessage, id => {\n                    if (id) {\n                        headers[LastEventId] = id;\n                    }\n                    else {\n                        delete headers[LastEventId];\n                    }\n                }, retry => {\n                    retryInterval = retry;\n                })));\n                onclose === null || onclose === void 0 ? void 0 : onclose();\n                dispose();\n                resolve();\n            }\n            catch (err) {\n                if (!curRequestController.signal.aborted) {\n                    try {\n                        const interval = (_a = onerror === null || onerror === void 0 ? void 0 : onerror(err)) !== null && _a !== void 0 ? _a : retryInterval;\n                        clearTimeout(retryTimer);\n                        retryTimer = setTimeout(create, interval);\n                    }\n                    catch (innerErr) {\n                        dispose();\n                        reject(innerErr);\n                    }\n                }\n            }\n        }\n        create();\n    });\n}\nfunction defaultOnOpen(response) {\n    const contentType = response.headers.get('content-type');\n    if (!(contentType === null || contentType === void 0 ? void 0 : contentType.startsWith(EventStreamContentType))) {\n        throw new Error(`Expected content-type to be ${EventStreamContentType}, Actual: ${contentType}`);\n    }\n}\n//# sourceMappingURL=fetch.js.map","import { useSubBook } from '@/lib/sub-book';\r\nimport { EventStreamContentType, fetchEventSource, } from '@fortaine/fetch-event-source';\r\nimport path from 'path';\r\nimport { useEffect, useMemo } from 'react';\r\nimport { GetComponentProps, history, request, useActions, useAsyncEffect, useBook, useFile, useModel } from 'topwrite';\r\n\r\nexport default function Activate({ children }: GetComponentProps<'activate'>) {\r\n\r\n    const { setHandler: setSearchHandler } = useActions('search');\r\n    const { setHandler: setAskHandler } = useActions('ask');\r\n    const book = useBook();\r\n    const { summary } = book;\r\n    const subBook = useSubBook();\r\n    const file = useFile();\r\n    const [{ lfs }, { intercept, fetch }] = useModel('page');\r\n\r\n    useAsyncEffect(async () => {\r\n        const pathname = location.pathname;\r\n        const dir = pathname.endsWith('/') ? pathname : path.dirname(pathname);\r\n        const base = path.resolve(dir, file.relative('/'));\r\n\r\n        if (book.getMetadata('can_search')) {\r\n            const searchUrl = path.join(base, 'search');\r\n            setSearchHandler(async (keyword, part) => {\r\n                try {\r\n                    const { data } = await request.post<any[]>(searchUrl, {\r\n                        keyword,\r\n                        part\r\n                    });\r\n\r\n                    return data;\r\n                } catch {\r\n                    return [];\r\n                }\r\n            });\r\n\r\n            if (book.getMetadata('can_ask')) {\r\n                const askUrl = path.join(base, 'ask');\r\n                setAskHandler((keyword, part) => {\r\n                    return new Promise((resolve, reject) => {\r\n                        const { readable, writable } = new TransformStream();\r\n                        const reader = readable.getReader();\r\n                        const writer = writable.getWriter();\r\n                        let finished = false;\r\n\r\n                        fetchEventSource(askUrl, {\r\n                            method: 'POST',\r\n                            body: JSON.stringify({\r\n                                keyword,\r\n                                part\r\n                            }),\r\n                            headers: {\r\n                                'Content-Type': 'application/json',\r\n                            },\r\n                            async onopen(res) {\r\n                                if (\r\n                                    !res.ok ||\r\n                                    !res.headers\r\n                                        .get('content-type')\r\n                                        ?.startsWith(EventStreamContentType) ||\r\n                                    res.status !== 200\r\n                                ) {\r\n                                    finished = true;\r\n                                    reject();\r\n                                } else {\r\n                                    resolve(reader);\r\n                                }\r\n                            },\r\n                            async onmessage(msg) {\r\n                                if (msg.data === '[DONE]' || finished) {\r\n                                    finished = true;\r\n                                    return;\r\n                                }\r\n\r\n                                try {\r\n                                    const text = JSON.parse(msg.data);\r\n                                    await writer.write(text);\r\n                                } catch {\r\n\r\n                                }\r\n                            },\r\n                            async onclose() {\r\n                                finished = true;\r\n                                await writer.close();\r\n                            },\r\n                            openWhenHidden: true,\r\n                        });\r\n\r\n                    });\r\n                });\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    const articleMatch = useMemo(() => {\r\n        const article = summary.getArticle(article => article.getPath() === file.path);\r\n\r\n        return article || file.path === 'index.html';\r\n    }, [file]);\r\n\r\n    useEffect(() => {\r\n        if (lfs) {\r\n            subBook.setLfsFiles(lfs.files);\r\n        }\r\n\r\n        intercept(({ request }) => {\r\n            request.use(subBook.interceptRequest());\r\n        });\r\n\r\n        if (articleMatch) {\r\n            if (file.content === undefined) {\r\n                //重新加载\r\n                fetch(history.location.pathname);\r\n            }\r\n        } else {\r\n            const id = subBook.resolveBook(file.path);\r\n            if (id) {\r\n                const article = summary.getArticle(() => {\r\n                    return true;\r\n                }, (part) => part.getMetadata('reference') === id);\r\n\r\n                if (article) {\r\n                    history.replace(file.relative(article.path));\r\n                    return;\r\n                }\r\n            }\r\n\r\n            //跳转首页\r\n            history.replace(file.relative('/'));\r\n        }\r\n    }, []);\r\n\r\n    if (!articleMatch) {\r\n        return null;\r\n    }\r\n\r\n    return children;\r\n}\r\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.es/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar uncurryThis = require('../internals/function-uncurry-this-clause');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\nvar RegExpPrototype = RegExp.prototype;\n\nmodule.exports = function (KEY, exec, FORCED, SHAM) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    FORCED\n  ) {\n    var uncurriedNativeRegExpMethod = uncurryThis(/./[SYMBOL]);\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      var uncurriedNativeMethod = uncurryThis(nativeMethod);\n      var $exec = regexp.exec;\n      if ($exec === regexpExec || $exec === RegExpPrototype.exec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: uncurriedNativeRegExpMethod(regexp, str, arg2) };\n        }\n        return { done: true, value: uncurriedNativeMethod(str, regexp, arg2) };\n      }\n      return { done: false };\n    });\n\n    defineBuiltIn(String.prototype, KEY, methods[0]);\n    defineBuiltIn(RegExpPrototype, SYMBOL, methods[1]);\n  }\n\n  if (SHAM) createNonEnumerableProperty(RegExpPrototype[SYMBOL], 'sham', true);\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar floor = Math.floor;\nvar charAt = uncurryThis(''.charAt);\nvar replace = uncurryThis(''.replace);\nvar stringSlice = uncurryThis(''.slice);\n// eslint-disable-next-line redos/no-vulnerable -- safe\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d{1,2}|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d{1,2})/g;\n\n// `GetSubstitution` abstract operation\n// https://tc39.es/ecma262/#sec-getsubstitution\nmodule.exports = function (matched, str, position, captures, namedCaptures, replacement) {\n  var tailPos = position + matched.length;\n  var m = captures.length;\n  var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n  if (namedCaptures !== undefined) {\n    namedCaptures = toObject(namedCaptures);\n    symbols = SUBSTITUTION_SYMBOLS;\n  }\n  return replace(replacement, symbols, function (match, ch) {\n    var capture;\n    switch (charAt(ch, 0)) {\n      case '$': return '$';\n      case '&': return matched;\n      case '`': return stringSlice(str, 0, position);\n      case \"'\": return stringSlice(str, tailPos);\n      case '<':\n        capture = namedCaptures[stringSlice(ch, 1, -1)];\n        break;\n      default: // \\d\\d?\n        var n = +ch;\n        if (n === 0) return match;\n        if (n > m) {\n          var f = floor(n / 10);\n          if (f === 0) return match;\n          if (f <= m) return captures[f - 1] === undefined ? charAt(ch, 1) : captures[f - 1] + charAt(ch, 1);\n          return match;\n        }\n        capture = captures[n - 1];\n    }\n    return capture === undefined ? '' : capture;\n  });\n};\n","var call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar isCallable = require('../internals/is-callable');\nvar classof = require('../internals/classof-raw');\nvar regexpExec = require('../internals/regexp-exec');\n\nvar $TypeError = TypeError;\n\n// `RegExpExec` abstract operation\n// https://tc39.es/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (isCallable(exec)) {\n    var result = call(exec, R, S);\n    if (result !== null) anObject(result);\n    return result;\n  }\n  if (classof(R) === 'RegExp') return call(regexpExec, R, S);\n  throw $TypeError('RegExp#exec called on incompatible receiver');\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this-clause');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\n// eslint-disable-next-line es/no-string-prototype-endswith -- safe\nvar nativeEndsWith = uncurryThis(''.endsWith);\nvar slice = uncurryThis(''.slice);\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('endsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'endsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.endsWith` method\n// https://tc39.es/ecma262/#sec-string.prototype.endswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  endsWith: function endsWith(searchString /* , endPosition = @length */) {\n    var that = toString(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var endPosition = arguments.length > 1 ? arguments[1] : undefined;\n    var len = that.length;\n    var end = endPosition === undefined ? len : min(toLength(endPosition), len);\n    var search = toString(searchString);\n    return nativeEndsWith\n      ? nativeEndsWith(that, search, end)\n      : slice(that, end - search.length, end) === search;\n  }\n});\n","'use strict';\nvar apply = require('../internals/function-apply');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar fails = require('../internals/fails');\nvar anObject = require('../internals/an-object');\nvar isCallable = require('../internals/is-callable');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar getMethod = require('../internals/get-method');\nvar getSubstitution = require('../internals/get-substitution');\nvar regExpExec = require('../internals/regexp-exec-abstract');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar REPLACE = wellKnownSymbol('replace');\nvar max = Math.max;\nvar min = Math.min;\nvar concat = uncurryThis([].concat);\nvar push = uncurryThis([].push);\nvar stringIndexOf = uncurryThis(''.indexOf);\nvar stringSlice = uncurryThis(''.slice);\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  // eslint-disable-next-line regexp/prefer-escape-replacement-dollar-char -- required for testing\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  // eslint-disable-next-line regexp/no-useless-dollar-replacements -- false positive\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', function (_, nativeReplace, maybeCallNative) {\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.es/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = isNullOrUndefined(searchValue) ? undefined : getMethod(searchValue, REPLACE);\n      return replacer\n        ? call(replacer, searchValue, O, replaceValue)\n        : call(nativeReplace, toString(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n    function (string, replaceValue) {\n      var rx = anObject(this);\n      var S = toString(string);\n\n      if (\n        typeof replaceValue == 'string' &&\n        stringIndexOf(replaceValue, UNSAFE_SUBSTITUTE) === -1 &&\n        stringIndexOf(replaceValue, '$<') === -1\n      ) {\n        var res = maybeCallNative(nativeReplace, rx, S, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var functionalReplace = isCallable(replaceValue);\n      if (!functionalReplace) replaceValue = toString(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        push(results, result);\n        if (!global) break;\n\n        var matchStr = toString(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = toString(result[0]);\n        var position = max(min(toIntegerOrInfinity(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) push(captures, maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = concat([matched], captures, position, S);\n          if (namedCaptures !== undefined) push(replacerArgs, namedCaptures);\n          var replacement = toString(apply(replaceValue, undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += stringSlice(S, nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + stringSlice(S, nextSourcePosition);\n    }\n  ];\n}, !REPLACE_SUPPORTS_NAMED_GROUPS || !REPLACE_KEEPS_$0 || REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this-clause');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\n// eslint-disable-next-line es/no-string-prototype-startswith -- safe\nvar nativeStartsWith = uncurryThis(''.startsWith);\nvar stringSlice = uncurryThis(''.slice);\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('startsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'startsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.startsWith` method\n// https://tc39.es/ecma262/#sec-string.prototype.startswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = toString(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var index = toLength(min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = toString(searchString);\n    return nativeStartsWith\n      ? nativeStartsWith(that, search, index)\n      : stringSlice(that, index, index + search.length) === search;\n  }\n});\n"],"names":["getLines","onLine","buffer","position","fieldLength","discardTrailingNewline","arr","undefined","a","b","res","Uint8Array","length","set","concat","bufLength","lineStart","lineEnd","subarray","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","propertyIsEnumerable","EventStreamContentType","DefaultRetryInterval","LastEventId","fetchEventSource","input","_a","signal","inputSignal","headers","inputHeaders","onopen","inputOnOpen","onmessage","onclose","onerror","openWhenHidden","fetch","inputFetch","rest","Promise","resolve","reject","assign","curRequestController","onVisibilityChange","abort","document","hidden","create","accept","addEventListener","retryInterval","retryTimer","dispose","removeEventListener","clearTimeout","fetchFn","defaultOnOpen","async","AbortController","response","stream","onChunk","reader","getReader","result","read","done","value","getBytes","body","onMessage","onId","onRetry","message","data","event","id","retry","decoder","TextDecoder","line","field","decode","valueOffset","parseInt","isNaN","getMessages","err","aborted","interval","setTimeout","innerErr","contentType","get","startsWith","Error","Activate","_ref","children","setSearchHandler","useActions","setHandler","setAskHandler","book","useBook","summary","subBook","useSubBook","file","useFile","_useModel","useModel","_useModel2","_slicedToArray","lfs","_useModel2$","intercept","useAsyncEffect","_asyncToGenerator","_regeneratorRuntime","_callee5","pathname","dir","base","searchUrl","askUrl","_context5","prev","next","location","endsWith","path","relative","getMetadata","_ref3","_callee","keyword","part","_yield$request$post","_context","request","sent","abrupt","t0","stop","_x","_x2","apply","arguments","_TransformStream","TransformStream","readable","writable","writer","getWriter","finished","method","JSON","stringify","_callee2","_res$headers$get","_context2","ok","status","msg","_callee3","text","_context3","parse","write","_callee4","_context4","close","articleMatch","useMemo","getArticle","article","getPath","useEffect","setLfsFiles","files","_ref4","use","interceptRequest","content","history","resolveBook","charAt","module","exports","S","index","unicode","uncurryThis","defineBuiltIn","regexpExec","fails","wellKnownSymbol","createNonEnumerableProperty","SPECIES","RegExpPrototype","RegExp","KEY","exec","FORCED","SHAM","SYMBOL","DELEGATES_TO_SYMBOL","O","DELEGATES_TO_EXEC","execCalled","re","constructor","flags","uncurriedNativeRegExpMethod","methods","nativeMethod","regexp","str","arg2","forceStringMethod","uncurriedNativeMethod","$exec","String","toObject","floor","Math","replace","stringSlice","slice","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","matched","captures","namedCaptures","replacement","tailPos","m","symbols","match","ch","capture","n","f","anObject","isCallable","classof","$TypeError","TypeError","R","descriptor","$","getOwnPropertyDescriptor","toLength","toString","notARegExp","requireObjectCoercible","correctIsRegExpLogic","IS_PURE","nativeEndsWith","min","CORRECT_IS_REGEXP_LOGIC","target","proto","forced","searchString","that","this","endPosition","len","end","search","fixRegExpWellKnownSymbolLogic","isNullOrUndefined","toIntegerOrInfinity","advanceStringIndex","getMethod","getSubstitution","regExpExec","REPLACE","max","push","stringIndexOf","REPLACE_KEEPS_$0","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","_","nativeReplace","maybeCallNative","UNSAFE_SUBSTITUTE","searchValue","replaceValue","replacer","string","rx","functionalReplace","global","fullUnicode","lastIndex","results","it","accumulatedResult","nextSourcePosition","j","groups","replacerArgs","nativeStartsWith"],"sourceRoot":""}