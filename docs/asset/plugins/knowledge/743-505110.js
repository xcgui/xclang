"use strict";(self.webpackChunkTopWritePlugins_knowledge=self.webpackChunkTopWritePlugins_knowledge||[]).push([[743],{6743:(e,r,t)=>{t.r(r),t.d(r,{default:()=>h});t(8194),t(75),t(9963),t(3708),t(6746),t(2208),t(1022),t(6877),t(2793),t(2990),t(2674);var n=t(9221),a=t.n(n),u=t(3183),c=t.n(u),o=t(8823),i=t.n(o),s=(t(9573),t(8602),t(4099)),p=t(9196),f=t(6569);function l(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function b(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?l(Object(t),!0).forEach((function(r){c()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function h(e){var r=e.children,t=(0,s.useEventTarget)();return(0,p.useEffect)((function(){var e=function(e){var r=e.detail;r.schema.properties=b(b({},r.schema.properties),{},{reference:{title:"关联文档",type:"string"}}),r.uiSchema=b(b({},r.uiSchema),{},{reference:{"ui:help":"关联文档后该分组下的章节替换为被关联文档的所有章节，只能关联已发布的公开文档","ui:options":{widget:"typeahead",placeholder:"输入文档名称搜索",onSearch:function(e){return a()(i().mark((function r(){var t,n,a;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=(0,f.zP)(),!e.query){r.next=6;break}return r.next=4,t.getBooks(e.query);case 4:return n=r.sent,r.abrupt("return",n.map((function(e){return{value:e.hash_id,label:e.name}})));case 6:if(!e.value){r.next=12;break}return r.next=9,t.getBook(e.value);case 9:if(!(a=r.sent)){r.next=12;break}return r.abrupt("return",[{value:a.hash_id,label:a.name}]);case 12:case"end":return r.stop()}}),r)})))()}}}})};t.addEventListener("beforeCreatePart",e),t.addEventListener("beforeUpdatePart",e)}),[]),r}}}]);
//# sourceMappingURL=743-505110.js.map