{"version":3,"file":"924-38094e.js","mappings":"sKAAIA,EAAOC,E,8BACX,SAASC,IAAiS,OAApRA,EAAWC,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,GAAU,CAAE,OAAOL,CAAQ,EAAUJ,EAASa,MAAMC,KAAMR,UAAY,CAElV,IAAIS,EAAW,SAAkBC,GAC/B,OAAoB,gBAAoB,MAAOhB,EAAS,CACtDiB,OAAQ,eACRC,KAAM,eACNC,QAAS,gBACTC,MAAO,6BACPC,MAAO,GACPC,OAAQ,IACPN,GAAQlB,IAAUA,EAAqB,gBAAoB,OAAQ,CACpEyB,EAAG,yvBACAxB,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEwB,EAAG,2WAEP,ECJc,SAAUC,EAAQC,GAAyD,IAAtDT,EAAKS,EAALT,MAAOU,EAASD,EAATC,UAAWC,EAAQF,EAARE,SACzCC,EAAmBZ,EAAnBY,KAAMC,EAAab,EAAba,SACRC,GAAOC,EAAAA,EAAAA,WACLC,GAAkBC,EAAAA,EAAAA,YAAW,QAA7BD,cAER,GAAiB,gBAAbH,GAA8BD,aAAgBM,EAAAA,aAAeN,EAAKO,YAAY,aAC9E,OAAO,KAGX,GAAiB,mBAAbN,GAAiCC,EAAKK,YAAY,YAAa,CAC/D,IAAMC,EAAUR,EAAKO,YAAY,SAAS,GAE1C,OAAOE,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAX,SAAA,CACFA,GACDU,EAAAA,EAAAA,MAACX,EAAS,CACNa,MAAMC,EAAAA,EAAAA,KAACC,EAAS,IAChBb,KAAMA,EACNc,QAAS,SAACC,GACNA,EAAEC,iBACFZ,GAAc,SAAAa,GACVA,EAAQC,cAAclB,EAAKmB,OAAO,SAAAC,GAC9BA,EAAQC,YAAY,SAAUb,EAClC,GACJ,GACJ,EAACT,SAAA,CAAGS,EAAU,KAAO,KAAI,U,CAIrC,OAAOT,CACX,C;;;;;;;;;;AChCa,IAAIuB,EAAE,EAAQ,MAASC,EAAEC,OAAOC,IAAI,iBAAiBC,EAAEF,OAAOC,IAAI,kBAAkBE,EAAEtD,OAAOS,UAAUC,eAAe6C,EAAEN,EAAEO,mDAAmDC,kBAAkBC,EAAE,CAAClD,KAAI,EAAGmD,KAAI,EAAGC,QAAO,EAAGC,UAAS,GAChP,SAASC,EAAEC,EAAEC,EAAEC,GAAG,IAAIC,EAAE5C,EAAE,CAAC,EAAEoB,EAAE,KAAKyB,EAAE,KAAiF,IAAID,UAAhF,IAASD,IAAIvB,EAAE,GAAGuB,QAAG,IAASD,EAAExD,MAAMkC,EAAE,GAAGsB,EAAExD,UAAK,IAASwD,EAAEL,MAAMQ,EAAEH,EAAEL,KAAcK,EAAEV,EAAE3C,KAAKqD,EAAEE,KAAKR,EAAEhD,eAAewD,KAAK5C,EAAE4C,GAAGF,EAAEE,IAAI,GAAGH,GAAGA,EAAEK,aAAa,IAAIF,KAAKF,EAAED,EAAEK,kBAAe,IAAS9C,EAAE4C,KAAK5C,EAAE4C,GAAGF,EAAEE,IAAI,MAAM,CAACG,SAASnB,EAAEoB,KAAKP,EAAEvD,IAAIkC,EAAEiB,IAAIQ,EAAEpD,MAAMO,EAAEiD,OAAOhB,EAAEiB,QAAQ,CAACC,EAAQC,SAASrB,EAAEoB,EAAQE,IAAIb,EAAEW,EAAQG,KAAKd,C,iBCPxWe,EAAOJ,QAAU,EAAjB,K","sources":["webpack://TopWritePlugins.knowledge/./src/images/trial.svg","webpack://TopWritePlugins.knowledge/./src/components/editor/menu-item.tsx","webpack://TopWritePlugins.knowledge/../../../topteam/write/packages/node_modules/.pnpm/react@18.2.0/node_modules/react/cjs/react-jsx-runtime.production.min.js","webpack://TopWritePlugins.knowledge/../../../topteam/write/packages/node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js"],"sourcesContent":["var _path, _path2;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgTrial = function SvgTrial(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    stroke: \"currentColor\",\n    fill: \"currentColor\",\n    viewBox: \"0 0 1024 1024\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M512 266.356c37.795 0 74.845 6.587 110.08 19.573a323.956 323.956 0 0 1 94.161 54.225 337.245 337.245 0 0 1 71.867 82.153A342.714 342.714 0 0 1 827.485 512a342.993 342.993 0 0 1-39.377 89.67 337.105 337.105 0 0 1-71.867 82.176 323.956 323.956 0 0 1-94.161 54.225c-35.235 12.963-72.285 19.55-110.08 19.55s-74.845-6.587-110.08-19.55a324.003 324.003 0 0 1-94.161-54.225 337.268 337.268 0 0 1-71.867-82.153A342.644 342.644 0 0 1 196.515 512a342.97 342.97 0 0 1 39.377-89.693 336.896 336.896 0 0 1 71.867-82.153 324.003 324.003 0 0 1 94.161-54.225A317.393 317.393 0 0 1 512 266.379zm0-56.901c-180.34 0-331.567 128.93-372.364 302.545C180.433 685.615 331.683 814.545 512 814.545c180.317 0 331.567-128.93 372.364-302.545C843.567 338.385 692.34 209.455 512 209.455z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M512 403.968c28.858 0 55.994 11.24 76.404 31.65A107.31 107.31 0 0 1 620.055 512c0 28.858-11.264 55.994-31.65 76.404A107.287 107.287 0 0 1 512 620.055a107.357 107.357 0 0 1-76.404-31.65A107.31 107.31 0 0 1 403.945 512c0-28.858 11.264-55.994 31.65-76.404A107.357 107.357 0 0 1 512 403.945zm0-54.877a162.91 162.91 0 1 0 0 325.818 162.91 162.91 0 0 0 0-325.818z\"\n  })));\n};\nexport { SvgTrial as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB0PSIxNzUwMDgyNjYwNjY5IiBzdHJva2U9ImN1cnJlbnRDb2xvciIgZmlsbD0iY3VycmVudENvbG9yIiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyINCiAgICAgcC1pZD0iMjY2ODEiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+DQogICAgPHBhdGggZD0iTTUxMiAyNjYuMzU2MzY0YzM3Ljc5NDkwOSAwIDc0Ljg0NTA5MSA2LjU4NjE4MiAxMTAuMDggMTkuNTcyMzYzYTMyMy45NTYzNjQgMzIzLjk1NjM2NCAwIDAgMSA5NC4xNjE0NTUgNTQuMjI1NDU1IDMzNy4yNDUwOTEgMzM3LjI0NTA5MSAwIDAgMSA3MS44NjYxODEgODIuMTUyNzI3QTM0Mi43MTQxODIgMzQyLjcxNDE4MiAwIDAgMSA4MjcuNDg1MDkxIDUxMmEzNDIuOTkzNDU1IDM0Mi45OTM0NTUgMCAwIDEtMzkuMzc3NDU1IDg5LjY2OTgxOCAzMzcuMTA1NDU1IDMzNy4xMDU0NTUgMCAwIDEtNzEuODY2MTgxIDgyLjE3NiAzMjMuOTU2MzY0IDMyMy45NTYzNjQgMCAwIDEtOTQuMTYxNDU1IDU0LjIyNTQ1NWMtMzUuMjM0OTA5IDEyLjk2MjkwOS03Mi4yODUwOTEgMTkuNTQ5MDkxLTExMC4wOCAxOS41NDkwOTEtMzcuNzk0OTA5IDAtNzQuODQ1MDkxLTYuNTg2MTgyLTExMC4wOC0xOS41NDkwOTFhMzI0LjAwMjkwOSAzMjQuMDAyOTA5IDAgMCAxLTk0LjE2MTQ1NS01NC4yMjU0NTUgMzM3LjI2ODM2NCAzMzcuMjY4MzY0IDAgMCAxLTcxLjg2NjE4MS04Mi4xNTI3MjdBMzQyLjY0NDM2NCAzNDIuNjQ0MzY0IDAgMCAxIDE5Ni41MTQ5MDkgNTEyYTM0Mi45NzAxODIgMzQyLjk3MDE4MiAwIDAgMSAzOS4zNzc0NTUtODkuNjkzMDkxIDMzNi44OTYgMzM2Ljg5NiAwIDAgMSA3MS44NjYxODEtODIuMTUyNzI3IDMyNC4wMDI5MDkgMzI0LjAwMjkwOSAwIDAgMSA5NC4xNjE0NTUtNTQuMjI1NDU1IDMxNy4zOTM0NTUgMzE3LjM5MzQ1NSAwIDAgMSAxMTAuMDgtMTkuNTQ5MDkxek01MTIgMjA5LjQ1NDU0NUMzMzEuNjU5NjM2IDIwOS40NTQ1NDUgMTgwLjQzMzQ1NSAzMzguMzg1NDU1IDEzOS42MzYzNjQgNTEyYzQwLjc5NzA5MSAxNzMuNjE0NTQ1IDE5Mi4wNDY1NDUgMzAyLjU0NTQ1NSAzNzIuMzYzNjM2IDMwMi41NDU0NTUgMTgwLjMxNzA5MSAwIDMzMS41NjY1NDUtMTI4LjkzMDkwOSAzNzIuMzYzNjM2LTMwMi41NDU0NTUtNDAuNzk3MDkxLTE3My42MTQ1NDUtMTkyLjAyMzI3My0zMDIuNTQ1NDU1LTM3Mi4zNjM2MzYtMzAyLjU0NTQ1NXoiDQogICAgICAgICAgcC1pZD0iMjY2ODIiPjwvcGF0aD4NCiAgICA8cGF0aCBkPSJNNTEyIDQwMy45NjhjMjguODU4MTgyIDAgNTUuOTk0MTgyIDExLjI0MDcyNyA3Ni40MDQzNjQgMzEuNjUwOTA5QTEwNy4zMTA1NDUgMTA3LjMxMDU0NSAwIDAgMSA2MjAuMDU1MjczIDUxMmMwIDI4Ljg1ODE4Mi0xMS4yNjQgNTUuOTk0MTgyLTMxLjY1MDkwOSA3Ni40MDQzNjRBMTA3LjI4NzI3MyAxMDcuMjg3MjczIDAgMCAxIDUxMiA2MjAuMDU1MjczYTEwNy4zNTcwOTEgMTA3LjM1NzA5MSAwIDAgMS03Ni40MDQzNjQtMzEuNjUwOTA5QTEwNy4zMTA1NDUgMTA3LjMxMDU0NSAwIDAgMSA0MDMuOTQ0NzI3IDUxMmMwLTI4Ljg1ODE4MiAxMS4yNjQtNTUuOTk0MTgyIDMxLjY1MDkwOS03Ni40MDQzNjRBMTA3LjM1NzA5MSAxMDcuMzU3MDkxIDAgMCAxIDUxMiA0MDMuOTQ0NzI3ek01MTIgMzQ5LjA5MDkwOWExNjIuOTA5MDkxIDE2Mi45MDkwOTEgMCAxIDAgMCAzMjUuODE4MTgyIDE2Mi45MDkwOTEgMTYyLjkwOTA5MSAwIDAgMCAwLTMyNS44MTgxODJ6Ig0KICAgICAgICAgIHAtaWQ9IjI2NjgzIj48L3BhdGg+DQo8L3N2Zz4NCg==\";","import { MouseEvent, ReactNode } from 'react';\r\nimport { InjectedCompProps, SummaryArticle, SummaryPart, useActions, useBook } from 'topwrite';\r\nimport { ReactComponent as TrialIcon } from '../../images/trial.svg';\r\n\r\ninterface Props {\r\n    eventKey?: string | number;\r\n    item: SummaryPart | SummaryArticle;\r\n    children?: ReactNode;\r\n    onClick?: (e: MouseEvent<HTMLElement>) => void;\r\n    icon?: ReactNode;\r\n}\r\n\r\nexport default function MenuItem({ props, Component, children }: InjectedCompProps<Props>) {\r\n    const { item, eventKey } = props;\r\n    const book = useBook();\r\n    const { updateSummary } = useActions('book');\r\n\r\n    if (eventKey === 'new_article' && item instanceof SummaryPart && item.getMetadata('reference')) {\r\n        return null;\r\n    }\r\n\r\n    if (eventKey === 'import_article' && book.getMetadata('pay_read')) {\r\n        const isTrial = item.getMetadata('trial', false);\r\n\r\n        return <>\r\n            {children}\r\n            <Component\r\n                icon={<TrialIcon />}\r\n                item={item}\r\n                onClick={(e) => {\r\n                    e.preventDefault();\r\n                    updateSummary(summary => {\r\n                        summary.updateArticle(item.level, article => {\r\n                            article.setMetadata('trial', !isTrial);\r\n                        });\r\n                    });\r\n                }}>{isTrial ? '取消' : '设为'}试读</Component>\r\n        </>;\r\n    }\r\n\r\n    return children;\r\n}\r\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n"],"names":["_path","_path2","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","SvgTrial","props","stroke","fill","viewBox","xmlns","width","height","d","MenuItem","_ref","Component","children","item","eventKey","book","useBook","updateSummary","useActions","SummaryPart","getMetadata","isTrial","_jsxs","_Fragment","icon","_jsx","TrialIcon","onClick","e","preventDefault","summary","updateArticle","level","article","setMetadata","f","k","Symbol","for","l","m","n","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","p","ref","__self","__source","q","c","a","g","b","h","defaultProps","$$typeof","type","_owner","current","exports","Fragment","jsx","jsxs","module"],"sourceRoot":""}